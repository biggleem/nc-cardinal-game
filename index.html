<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>NC Blockchain Cardinal Clicker</title>
    <meta property="og:title" content="NC Blockchain Cardinal Clicker">
    <meta property="og:description" content="Tap the Cardinal to earn $CARD tokens!">
    <meta property="og:image" content="https://biggleem.github.io/nc-cardinal-game/cardinal.png">
    
    <!-- PWA Support -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#e63946">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="NC Cardinal">
    <link rel="apple-touch-icon" href="icon-512.png">
    
    <script src="nc-integration.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            min-height: 100vh;
            color: white;
            overflow: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(220,20,60,0.1) 0%, transparent 70%);
            pointer-events: none;
        }
        
        .game-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .header {
            background: rgba(0,0,0,0.8);
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(220,20,60,0.3);
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }
        
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .balance {
            font-size: 3em;
            font-weight: 900;
            margin: 15px 0;
            text-shadow: 0 0 30px rgba(255,215,0,0.5), 0 2px 10px rgba(0,0,0,0.8);
            letter-spacing: 2px;
        }
        
        .balance .coins {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .energy-bar {
            width: 80%;
            height: 25px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            margin: 15px auto;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255,215,0,0.2);
        }
        
        .energy-fill {
            height: 100%;
            background: linear-gradient(90deg, #FFD700, #FFA500);
            transition: width 0.3s ease;
            box-shadow: 0 0 20px rgba(255,215,0,0.6);
        }
        
        .energy-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .tap-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .coin {
            width: 280px;
            height: 280px;
            background: transparent;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .coin:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 80px rgba(220,20,60,0.4), 0 15px 40px rgba(0,0,0,0.9);
            border-color: rgba(255,215,0,0.9);
        }
        
        .coin img {
            width: 90%;
            height: 90%;
            object-fit: contain;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            filter: drop-shadow(0 0 20px rgba(220,20,60,0.6));
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .coin:active {
            transform: scale(0.95);
        }
        
        .coin.tapped {
            animation: pulse 0.3s ease-out;
        }
        
        @keyframes pulse {
            0% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(-5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        
        .coin img.flap {
            animation: flap 0.5s ease-out;
        }
        
        @keyframes flap {
            0% { transform: scaleX(1); }
            25% { transform: scaleX(1.2); }
            50% { transform: scaleX(0.8); }
            100% { transform: scaleX(1); }
        }
        
        .tap-effect {
            position: absolute;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5em;
            font-weight: 900;
            pointer-events: none;
            animation: floatUp 1.5s ease-out;
            text-shadow: 0 0 30px rgba(255,215,0,0.8);
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.8));
        }
        
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px);
            }
        }
        
        .feather-particle {
            position: absolute;
            font-size: 1.5em;
            pointer-events: none;
            animation: floatAway 1.5s ease-out;
        }
        
        @keyframes floatAway {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(100px) rotate(360deg) translateX(50px);
            }
        }
        
        .upgrades {
            background: rgba(0,0,0,0.8);
            padding: 20px;
            backdrop-filter: blur(20px);
            display: flex;
            justify-content: space-around;
            gap: 15px;
            border-top: 1px solid rgba(220,20,60,0.3);
        }
        
        .upgrade-btn {
            background: rgba(0,0,0,0.6);
            border: 1px solid rgba(255,215,0,0.4);
            border-radius: 15px;
            padding: 15px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            font-size: 0.9em;
            position: relative;
            overflow: hidden;
        }
        
        .upgrade-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,215,0,0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .upgrade-btn:hover::before {
            opacity: 1;
        }
        
        .upgrade-btn:hover {
            transform: translateY(-2px);
            border-color: rgba(255,215,0,0.8);
            box-shadow: 0 5px 20px rgba(255,215,0,0.3);
        }
        
        .upgrade-btn:active {
            transform: scale(0.95);
        }
        
        .upgrade-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .upgrade-info {
            font-size: 0.8em;
            opacity: 0.8;
        }
        
        .stats {
            background: rgba(0,0,0,0.8);
            padding: 15px;
            text-align: center;
            font-size: 0.9em;
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(220,20,60,0.3);
            color: rgba(255,255,255,0.8);
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        
        .stats span {
            color: #FFD700;
            font-weight: bold;
        }
        
        .achievements {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            text-align: center;
            z-index: 1000;
            animation: slideDown 0.5s ease-out;
        }
        
        @keyframes slideDown {
            from {
                transform: translateX(-50%) translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }
        
        .community-links {
            background: rgba(0,0,0,0.8);
            padding: 15px;
            text-align: center;
            font-size: 0.9em;
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(220,20,60,0.3);
        }
        
        .community-links a {
            color: rgba(255,215,0,0.8);
            margin: 0 10px;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .community-links a:hover {
            color: #FFD700;
            transform: translateY(-2px);
            text-shadow: 0 0 20px rgba(255,215,0,0.6);
        }
        
        .intro-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .intro-content {
            background: #000;
            border: 2px solid rgba(255,215,0,0.6);
            border-radius: 30px;
            padding: 40px;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(220,20,60,0.3), 0 10px 30px rgba(0,0,0,0.8);
            position: relative;
        }
        
        .intro-content::before {
            content: '';
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            bottom: -1px;
            background: linear-gradient(135deg, #FFD700, #DC143C, #FFD700);
            border-radius: 30px;
            z-index: -1;
            opacity: 0.5;
            filter: blur(10px);
        }
        
        .intro-content h1 {
            color: #FFD700;
            margin-bottom: 20px;
        }
        
        .intro-content img {
            width: 200px;
            height: auto;
            margin: 25px 0;
        }
        
        .start-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            border: none;
            padding: 20px 50px;
            font-size: 1.3em;
            font-weight: 900;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            box-shadow: 0 10px 30px rgba(255,215,0,0.4);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255,215,0,0.6);
        }
        
        .start-btn:active {
            transform: translateY(0);
        }
        
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: -1;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255,215,0,0.3);
            border-radius: 50%;
            animation: particleFloat 15s infinite linear;
        }
        
        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-10vh) translateX(100px);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div class="splash-screen" id="splash">
        <img src="bird.png" alt="NC Blockchain" class="splash-logo">
        <h2 style="color: #e63946; margin-top: 20px; font-size: 1.5rem;">NC BLOCKCHAIN</h2>
        <div class="splash-loader"></div>
    </div>
    
    <style>
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        .splash-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .splash-logo {
            width: 200px;
            height: 200px;
            object-fit: contain;
            animation: pulse 1.5s ease-in-out infinite;
        }
        .splash-loader {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(230, 57, 70, 0.3);
            border-top-color: #e63946;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-top: 30px;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
    </style>
    
    <div class="particles" id="particles"></div>
    <div class="intro-modal" id="intro">
        <div class="intro-content">
            <h1>üî¥ NC Blockchain Cardinal</h1>
            <img src="bird.png" alt="NC Cardinal">
            <p>Tap the Cardinal to earn $CARD tokens!</p>
            <p>Build the NC Blockchain community one tap at a time!</p>
            <button class="start-btn" onclick="startGame()">Start Tapping!</button>
        </div>
    </div>
    
    <div class="game-container">
        <div class="header">
            <div class="logo-container">
                <img src="nc-logo.png" alt="NC Blockchain" style="height: 60px; margin-bottom: 10px;">
            </div>
            <div class="balance">
                <span class="coins" id="balance">0</span> $CARD
            </div>
            <div class="energy-bar">
                <div class="energy-fill" id="energy-fill"></div>
                <div class="energy-text">
                    <span id="energy">100</span>/<span id="energy-max">100</span> ‚ö°
                </div>
            </div>
        </div>
        
        <div class="tap-area" id="tap-area">
            <div class="coin" id="coin">
                <img src="bird.png" alt="NC Blockchain Cardinal" id="cardinal-img">
            </div>
        </div>
        
        <div class="stats">
            Total Taps: <span id="total-taps">0</span> | 
            Tap Power: <span id="tap-power">1</span>x |
            Regen: <span id="regen-rate">1</span>/s |
            Cardinal: <span id="cardinal-level">Baby</span>
        </div>
        
        <div class="achievements" id="achievements" style="display: none;">
            <h3>üèÜ Achievement Unlocked!</h3>
            <p id="achievement-text"></p>
        </div>
        
        <div class="upgrades">
            <button class="upgrade-btn" id="upgrade-power" onclick="upgrade('tapPower')">
                <div>‚ö° Power</div>
                <div class="upgrade-info">Cost: <span id="power-cost">100</span></div>
            </button>
            <button class="upgrade-btn" id="upgrade-energy" onclick="upgrade('energyMax')">
                <div>üîã Energy</div>
                <div class="upgrade-info">Cost: <span id="energy-cost">150</span></div>
            </button>
            <button class="upgrade-btn" id="upgrade-regen" onclick="upgrade('regenRate')">
                <div>‚ôªÔ∏è Regen</div>
                <div class="upgrade-info">Cost: <span id="regen-cost">200</span></div>
            </button>
        </div>
        
        <div class="community-links">
            <a href="https://ncblockchain.com" target="_blank">üåê Website</a>
            <a href="https://twitter.com/ncblockchain" target="_blank">üê¶ Twitter</a>
            <a href="https://t.me/ncblockchain" target="_blank">üí¨ Telegram</a>
            <a href="https://github.com/biggleem/nc-cardinal-game" target="_blank">üíª GitHub</a>
        </div>
    </div>

    <script>
        // Game state
        let gameData = {
            balance: 0,
            energy: 100,
            energyMax: 100,
            tapPower: 1,
            totalTaps: 0,
            regenRate: 1,
            cardinalLevel: 1,
            achievements: []
        };
        
        // Load saved data
        function loadGameData() {
            const saved = localStorage.getItem('ncCardinalGame');
            if (saved) {
                gameData = JSON.parse(saved);
            }
            updateUI();
        }
        
        // Save game data
        function saveGameData() {
            localStorage.setItem('ncCardinalGame', JSON.stringify(gameData));
        }
        
        // Start game
        function startGame() {
            document.getElementById('intro').style.display = 'none';
            loadGameData();
            generateParticles();
            
            // Start energy regeneration
            setInterval(() => {
                if (gameData.energy < gameData.energyMax) {
                    gameData.energy = Math.min(gameData.energy + gameData.regenRate, gameData.energyMax);
                    updateUI();
                    saveGameData();
                }
            }, 1000);
        }
        
        // Generate background particles
        function generateParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }
        
        // Update UI
        function updateUI() {
            document.getElementById('balance').textContent = gameData.balance;
            document.getElementById('energy').textContent = Math.floor(gameData.energy);
            document.getElementById('energy-max').textContent = gameData.energyMax;
            document.getElementById('total-taps').textContent = gameData.totalTaps;
            document.getElementById('tap-power').textContent = gameData.tapPower;
            document.getElementById('regen-rate').textContent = gameData.regenRate;
            
            const energyPercent = (gameData.energy / gameData.energyMax) * 100;
            document.getElementById('energy-fill').style.width = energyPercent + '%';
            
            // Update upgrade costs
            const costs = calculateUpgradeCosts();
            document.getElementById('power-cost').textContent = costs.tapPower;
            document.getElementById('energy-cost').textContent = costs.energyMax;
            document.getElementById('regen-cost').textContent = costs.regenRate;
            
            // Enable/disable upgrade buttons
            document.getElementById('upgrade-power').disabled = gameData.balance < costs.tapPower;
            document.getElementById('upgrade-energy').disabled = gameData.balance < costs.energyMax;
            document.getElementById('upgrade-regen').disabled = gameData.balance < costs.regenRate;
            
            // Update cardinal level
            document.getElementById('cardinal-level').textContent = getCardinalName(gameData.cardinalLevel);
        }
        
        // Calculate upgrade costs
        function calculateUpgradeCosts() {
            return {
                tapPower: Math.floor(100 * Math.pow(2, gameData.tapPower - 1)),
                energyMax: Math.floor(150 * Math.pow(2, (gameData.energyMax - 100) / 50)),
                regenRate: Math.floor(200 * Math.pow(2, gameData.regenRate - 1))
            };
        }
        
        // Get cardinal name
        function getCardinalName(level) {
            const names = ['Baby', 'Young', 'Adult', 'Elder', 'Legendary'];
            return names[level - 1] || 'Cardinal';
        }
        
        // Handle tap
        function handleTap(event) {
            if (gameData.energy < 1) {
                return;
            }
            
            // Visual feedback
            const coin = document.getElementById('coin');
            const cardinalImg = document.getElementById('cardinal-img');
            coin.classList.add('tapped');
            cardinalImg.classList.add('flap');
            setTimeout(() => {
                coin.classList.remove('tapped');
                cardinalImg.classList.remove('flap');
            }, 500);
            
            // Show tap effect
            const tapArea = document.getElementById('tap-area');
            const effect = document.createElement('div');
            effect.className = 'tap-effect';
            effect.textContent = `+${gameData.tapPower}`;
            effect.style.left = (event.clientX || tapArea.offsetWidth/2) + 'px';
            effect.style.top = (event.clientY || tapArea.offsetHeight/2) + 'px';
            tapArea.appendChild(effect);
            setTimeout(() => effect.remove(), 1000);
            
            // Add feather particles
            for (let i = 0; i < 3; i++) {
                const feather = document.createElement('div');
                feather.className = 'feather-particle';
                feather.textContent = 'ü™∂';
                feather.style.left = (event.clientX || tapArea.offsetWidth/2) + (Math.random() * 40 - 20) + 'px';
                feather.style.top = (event.clientY || tapArea.offsetHeight/2) + 'px';
                tapArea.appendChild(feather);
                setTimeout(() => feather.remove(), 1500);
            }
            
            // Update game state
            gameData.energy -= 1;
            gameData.balance += gameData.tapPower;
            gameData.totalTaps += 1;
            
            // Check for cardinal evolution
            const requirements = [1000, 10000, 50000, 100000];
            for (let i = 0; i < requirements.length; i++) {
                if (gameData.totalTaps >= requirements[i] && gameData.cardinalLevel <= i + 1) {
                    gameData.cardinalLevel = i + 2;
                    showAchievement(`ü¶Ö Cardinal Evolved to ${getCardinalName(gameData.cardinalLevel)}!`);
                }
            }
            
            updateUI();
            saveGameData();
        }
        
        // Show achievement
        function showAchievement(text) {
            const achievementDiv = document.getElementById('achievements');
            const achievementText = document.getElementById('achievement-text');
            
            achievementText.textContent = text;
            achievementDiv.style.display = 'block';
            
            setTimeout(() => {
                achievementDiv.style.display = 'none';
            }, 3000);
        }
        
        // Handle upgrades
        function upgrade(type) {
            const costs = calculateUpgradeCosts();
            
            if (gameData.balance < costs[type]) {
                return;
            }
            
            gameData.balance -= costs[type];
            
            switch(type) {
                case 'tapPower':
                    gameData.tapPower += 1;
                    break;
                case 'energyMax':
                    gameData.energyMax += 50;
                    break;
                case 'regenRate':
                    gameData.regenRate += 1;
                    break;
            }
            
            updateUI();
            saveGameData();
        }
        
        // Event listeners
        document.getElementById('coin').addEventListener('click', handleTap);
        document.getElementById('coin').addEventListener('touchstart', (e) => {
            e.preventDefault();
            handleTap(e.touches[0]);
        });
        
        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('SW registered'))
                .catch(err => console.log('SW registration failed:', err));
        }
        
        // Hide splash screen after load
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('splash').classList.add('hidden');
            }, 1500);
        });
    </script>
</body>
</html>
